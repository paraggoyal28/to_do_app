(this.webpackJsonpto_do_app=this.webpackJsonpto_do_app||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),d=n.n(s),i=n(7),l=n.n(i),r=n(8),c=n(2),o=n(3),u=n(5),m=n(4),h=(n(14),n(15),function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleMouseEnter=function(e){var t=document.getElementById("delete"+e.target.dataset.num),n=document.getElementById("add"+e.target.dataset.num);t&&t.style&&(t.style.display="inline-block"),n&&n.style&&(n.style.display="inline-block")},a.handleMouseLeave=function(e){var t=document.getElementById("delete"+e.target.dataset.num),n=document.getElementById("add"+e.target.dataset.num);t&&t.style&&(t.style.display="none"),n&&n.style&&(n.style.display="none")},a.handleAddDescription=function(e){var t=document.getElementById("descriptionInput"+e.target.dataset.num),n=document.getElementById("description"+e.target.dataset.num);t.style.display="inline-block",n.style.display="none"},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.item,t=e.id,n=e.marked,s=e.createdAt,d=e.lastUpdatedAt,i=(e.deleted,e.text),l=e.description;return Object(a.jsxs)("div",{"data-num":t,children:[Object(a.jsxs)("div",{"data-num":t,id:"view"+t,className:"view",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[Object(a.jsxs)("div",{"data-num":t,children:[Object(a.jsx)("input",{"data-num":t,className:"toggle",type:"checkbox",checked:n,id:"check"+t,onChange:this.props.handleChangeSingle}),Object(a.jsx)("label",{"data-num":t,className:"viewText",children:i}),Object(a.jsx)("a",{"data-num":t,id:"add"+t,className:"add",onClick:this.handleAddDescription}),n&&Object(a.jsx)("a",{"data-num":t,id:"delete"+t,className:"delete",onClick:this.props.handleDelete})]}),Object(a.jsx)("div",{"data-num":t,className:"description",id:"description"+t,children:l}),Object(a.jsxs)("div",{"data-num":t,className:"date",children:[Object(a.jsxs)("span",{"data-num":t,className:"created",children:["Created At: ",s," "]}),Object(a.jsxs)("span",{"data-num":t,className:"updated",children:["Last Updated At: ",d]})]})]}),Object(a.jsx)("input",{"data-num":t,className:"descriptionInput",value:l,id:"descriptionInput"+t,onKeyPress:this.props.handleKeyPress,onChange:this.props.handleDescriptionChange})]})}}]),n}(d.a.Component)),p=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).handleKeyPress=function(t){if("Enter"===t.key){var n={id:e.state.idCount,marked:!1,createdAt:(new Date).toLocaleString(),lastUpdatedAt:(new Date).toLocaleString(),deleted:!1,text:t.target.value,description:""};e.setState({itemList:[].concat(Object(r.a)(e.state.itemList),[n]),idCount:e.state.idCount+1,textValue:"",unmarkedItemCount:e.state.unmarkedItemCount+1})}},e.handleTextChange=function(t){e.setState({textValue:t.target.value})},e.handleMarkingAll=function(t){var n=e.state.markedItemCount===e.state.itemList.length,a=e.state.itemList.map((function(e){return e.marked=!0!==n,e})),s=a.filter((function(e){return e.deleted})).length,d=a.filter((function(e){return e.marked&&!e.deleted})).length;console.log(d);var i=a.length-d-s;e.setState({itemList:a,markedItemCount:d,unmarkedItemCount:i,deletedItemCount:s})},e.handleDelete=function(t){var n=t.target.dataset.num,a=e.state.itemList.map((function(e){return parseInt(e.id)===parseInt(n)&&(e.deleted=!0),e}));e.setState({itemList:a,markedItemCount:e.state.markedItemCount-1})},e.handleDeleteMarked=function(t){var n=0,a=e.state.itemList.map((function(e){return e.marked&&(n++,e.deleted=!0),e}));e.setState({itemList:a,markedItemCount:e.state.markedItemCount-n,deletedItemCount:e.state.deletedItemCount+1})},e.handleDescriptionChange=function(t){var n=parseInt(t.target.dataset.num),a=e.state.itemList.map((function(e){return parseInt(e.id)===n&&(e.description=t.target.value),e}));e.setState({itemList:a})},e.handleSearch=function(t){var n=t.target.value,a=e.state.itemList;n.length>=3&&(a=e.state.itemList.filter((function(e){return e.text&&e.text.toLowerCase().includes(n.toLowerCase())||e.description&&e.description.toLowerCase().includes(n.toLowerCase())}))),e.setState({filteredList:a,searchValue:n})},e.handleKeyPressDescription=function(t){if("Enter"===t.key){var n=document.getElementById("descriptionInput"+t.target.dataset.num),a=document.getElementById("description"+t.target.dataset.num),s=parseInt(t.target.dataset.num),d=e.state.itemList.map((function(e){var t=e.description&&e.description.slice(0,140).split(" ")||[],n=t&&t.length&&t.map((function(e){return e.slice(0,30)})).join(" ")||"";return parseInt(e.id)===s&&(e.description=n,e.lastUpdatedAt=(new Date).toLocaleString()),e}));n.style.display="none",a.style.display="inline-block",e.setState({itemList:d})}},e.handleChangeSingle=function(t){var n=parseInt(t.target.dataset.num),a=e.state.itemList.map((function(e){return parseInt(e.id)===n&&(e.marked=!e.marked),e})),s=a.filter((function(e){return e.deleted})).length,d=a.filter((function(e){return e.marked&&!e.deleted})).length,i=a.length-d-s;e.setState({itemList:a,markedItemCount:d,unmarkedItemCount:i,deletedItemCount:s})},e.state={idCount:1,textValue:"",itemList:[],filteredList:[],searchValue:"",markedItemCount:0,unmarkedItemCount:0,deletedItemCount:0},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.textValue,d=t.searchValue,i=t.filteredList,l=t.unmarkedItemCount,r=t.markedItemCount,c=t.itemList;return Object(a.jsxs)(s.Fragment,{children:[Object(a.jsxs)("div",{className:"todoapp",children:[Object(a.jsx)("h1",{className:"heading",children:"TODOS"}),Object(a.jsx)("input",{id:"new-todo",type:"text",value:n,onKeyPress:this.handleKeyPress,onChange:this.handleTextChange,placeholder:"What needs to be done?"}),(0!==l||0!==r)&&Object(a.jsxs)(s.Fragment,{children:[Object(a.jsx)("input",{id:"toggle-all",type:"checkbox",checked:r===c.length,onChange:this.handleMarkingAll}),Object(a.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(a.jsx)("input",{id:"search-todo",type:"text",value:d,onChange:this.handleSearch,placeholder:"What you want to search?"}),d&&d.length>=3&&i.length>=1&&i.map((function(t){return!t.deleted&&Object(a.jsx)(h,{item:t,handleDelete:e.handleDelete,handleChangeSingle:e.handleChangeSingle,handleKeyPress:e.handleKeyPressDescription,handleDescriptionChange:e.handleDescriptionChange},t.id)})),(!d||d.length<3)&&c.length>=1&&c.map((function(t){return!t.deleted&&Object(a.jsx)(h,{item:t,handleDelete:e.handleDelete,handleChangeSingle:e.handleChangeSingle,handleKeyPress:e.handleKeyPressDescription,handleDescriptionChange:e.handleDescriptionChange},t.id)})),Object(a.jsxs)("div",{className:"footer",children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("b",{children:l})," items left "]}),r>0&&Object(a.jsxs)("a",{id:"clear-completed",onClick:this.handleDeleteMarked,children:["Clear ",r," completed items"]})]})]})]}),this.state.deletedItemCount>0&&Object(a.jsxs)("div",{className:"history",children:[Object(a.jsx)("h1",{children:"Completed Items:"}),c.map((function(e){if(e.deleted)return Object(a.jsxs)("div",{className:"history-item",children:[Object(a.jsx)("h2",{children:e.text}),Object(a.jsx)("p",{children:e.description}),Object(a.jsx)("span",{children:e.createdAt}),Object(a.jsx)("span",{children:e.lastUpdatedAt})]})}))]})]})}}]),n}(d.a.Component);l.a.render(Object(a.jsx)(d.a.StrictMode,{children:Object(a.jsx)(p,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.e2d02aa7.chunk.js.map